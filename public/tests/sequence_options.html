<!DOCTYPE html>
<meta charset="utf-8">
<html>
    <head>
        <title>Sequence Options</title>
        <link rel="shortcut icon" href="../images/icon.png" type="image/gif">
        <script src="../js/prong.js"></script>
        <link rel='stylesheet' href='testPage.css'></link>
        <script src="qadi-min.js"></script>
        <link rel="stylesheet" type="text/css" href="qadi.css"/>
    </head>
    <body>

        <iframe src="./"></iframe>
        <div id="main">
        Sequence Options<br />
        <br />
        This page tests some options that can be set on a sequence
        <ul id="qadi" style="font-size:10pt">
            <li><i>fitTimelineToAudio</i> This option is here set to true, which means
            that when the track loads, the timeline will change to fit all
            the audio in the visible area
            </li>
            <li><i>zoomable</i> is set to false, which means that there is no
            way to zoom the timeline
            </li>
             <li><i>scrollable</i> is set to false, which means that there is no
            way to scroll the timeline
            </li>
            <li>Two play/stop buttons are shown. When either one is clicked, the other should change state to reflect whether the sequence is
            playing or stopped</li>
            <li>The sequence below has the 'editable' option set to true,
            which means that when you roll over track names, a cross appears
            which can be clicked to delete the track.</li>
        </ul>
        <span>
        <br />
        </span>
        <div id="transport"></div>
        <div id="sequence"></div>
        <div id="transport2"></div>
        </div>
        <script>

root = 'https://dl.dropboxusercontent.com/u/5613860/audio/nino_rota/'

var tracks = [
    {
        'type' : 'audio',
        'src' : root + 'sax1.mp3'
    },
    {
        'type' : 'audio',
        'src' : root + 'sax2.mp3'
    },
    {
        'type' : 'audio',
        'src' : root + 'flute.mp3'
    },
    {
        'type' : 'audio',
        'src' : root + 'snare.mp3'
    },
    {
        'type' : 'audio',
        'src' : root + 'trombone.mp3'
    },
    {
        'type' : 'audio',
        'src' : root + 'trumpet.mp3'
    },
    {
        'type' : 'audio',
        'src' : root + 'tuba.mp3'
    },
    {
        'type' : 'audio',
        'src' : root + 'bass_drum.mp3'
    },
    {
        'type' : 'audio',
        'src' : root + 'cymbals.mp3'
    }
]

var d3 = prong.d3;
var x = d3.scale.linear().domain([0, 30]).range([0, 700]);

sequence = prong.sequence()
    .x(x)
    .tracks(tracks)
    .trackHeight(20)
    .canSelectLoop(false)
    .fitTimelineToAudio(true)
    .zoomable(false)
    .scrollable(false)
    .editable(true)
    .audioOut(prong.audioContext().destination);

transport = prong.transport().sequence(sequence)
transport2 = prong.transport().sequence(sequence)

d3.select('#sequence').call(sequence);
d3.select('#transport').call(transport);
d3.select('#transport2').call(transport2);
        </script>
    </body>
</html>