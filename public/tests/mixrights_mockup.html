<!DOCTYPE html>
<meta charset="utf-8">
<html>
    <head>
        <title>Mixrights Mockup</title>
        <script src="../js/prong.js"></script>
        <link rel='stylesheet' href='mixrights.css'></link>
        <link rel='stylesheet' href='extra_styles.css'></link>
    </head>
    <body>
        <div id="main">
        </span>
        <div id="transport"></div>
        <br />
        <div id="sequence"></div>
        <br />
        <table>
        <tr>
            <td>
            <br />
            <span id="presetsLabel">Mix Presets</span><br />
            <br />
            <div id="presets"></div></td>
            <td id="mixer"></td>
        </tr>
        </table>
        </div>
        <script src="presets.js"></script>
        <script>

var rootUrl = 'https://dl.dropboxusercontent.com/u/5613860/audio/nino_rota/'

rootUrl = '/audio/'

var tracks = [
    {
        'type' : 'audio',
        'src' : rootUrl + 'sax1.mp3',
        'trackId' : '1'
    },
    {
        'type' : 'audio',
        'src' : rootUrl + 'sax2.mp3',
        'trackId' : '2'
    },
    {
        'type' : 'audio',
        'src' : rootUrl + 'flute.mp3',
        'trackId' : '3'
    },
    {
        'type' : 'audio',
        'src' : rootUrl + 'bass_drum.mp3',
        'trackId' : '4'
    },
    {
        'type' : 'audio',
        'src' : rootUrl + 'tuba.mp3',
        'trackId' : '5'
    },
    {
        'type' : 'audio',
        'src' : rootUrl + 'trumpet.mp3',
        'trackId' : '6'
    }
]

tracks = prong.omniscience.makeWatchable(tracks)

var d3 = prong.d3;
var x = d3.scale.linear().domain([0, 60]).range([0, 800]);

var sequence = prong.sequence()
    .propertyPanelWidth(0) 
    .x(x)
    .tracks(tracks)
    .trackHeight(40)
    .fitTimelineToAudio(true)
    .zoomable(false)
    .scrollable(false)
    .canSelectLoop(false)
    .audioOut(prong.audioContext().destination)

var transport = prong.transport().sequence(sequence);
var mixer = prong.mixer().sequence(sequence);
var presetList = prong.presetList()
    .sequence(sequence)
    .presets(presets)
    .historyKey('preset');

d3.select('#sequence').call(sequence);
d3.select('#transport').call(transport);
d3.select('#mixer').call(mixer);
d3.select('#presets').call(presetList);



        </script>
    </body>
</html>