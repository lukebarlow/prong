<!DOCTYPE html>
<meta charset="utf-8">
<html>
    <head>
        <script src="../js/prong.js"></script>
        <style>
BODY {
    font-family:helvetica;
    background-color:#333;
    color:white;
    height:100%;
    padding:0;
    margin:0;
}

IFRAME {
    padding:0;
    margin:0;
    border-width:0px;
    width:300px;
    height:100%;
    float:left;
}

#main {
    padding:50px;
    padding-left:400px;
    height:100%
}

.trackName {
    position:absolute;
}

.trackName > span {
    position:absolute;
    overflow:visible;
    height:0px;
    left:-100px;
    width:100px;
    top:3px;
    font-size:10pt;
    text-align: right;
}


.trackLoading {
    position:absolute;
    left:10px;
    width:100px;
    font-size:10pt;
    margin-top:8px;
}


A { color : steelblue;}

/* waveform */

.area {
  fill:steelblue;
}

.over .area {
    fill:orange;
}

.line {
  stroke:steelblue;
  fill:none;
}

/* timeline */

.timeline path,
.timeline line {
  fill: none;
  stroke: white;
  shape-rendering: crispEdges;
}

.timeline text {
  fill:white;
  shape-rendering: crispEdges;
}

/* comper */

.comp {
    fill:white;
    opacity:0.2;
}

.inbetween {
  fill:transparent;
  cursor:hand;
}

.resizer {
    fill:red;
    opacity:0;
    cursor:ew-resize;
}

/* play line */

.playLine {
    background-color:green;
    width:1px;
    height:600px;
    top:0px;
    position:absolute;
}

#sequence {
    height:400px;
}

#mixer {
    height:300px;
}

.pot, .slider {
    stroke : black;
    stroke-width : 1px;
    fill : white;
    fill-opacity : 1;
    cursor:pointer;
}

.slider rect {
  fill : black;
}

.pot text, .slider text {
  fill:black;
}

.pot path {
    fill:black;
}

path.pan {
    fill:steelblue;
}

.over path.pan {
    fill:orange;
}

.slider .background {
  fill:steelblue;
  stroke-width:0;
}

.over .slider .background {
  fill:orange;    
}

text {
    fill:white;
    font-size:10pt;
}

.audioRegion rect {
  stroke:steelblue;
  fill:transparent;
}

/* transport */

.playStopButton {
    display: inline-block;
    cursor:pointer;
    -webkit-touch-callout: none;
    -webkit-user-select: none;
    -khtml-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
}

.playStopButton circle {
    fill: rgba(77, 127, 184, 0.5);
    stroke:transparent;
    
}

.playStopButton polygon {
    fill: #63a909;
    stroke:transparent;
}

.playStopButton rect {
    fill: #ec0b1a;
    stroke: transparent;
}

        </style>
    </head>
    <body>

        <iframe src="../"></iframe>
        <div id="main">

        Mixer<br />
        <span>
        <br />
        With two extra lines of code, we can add a mixer which binds to the
        sequence, and allows you to set the gain and pan for each track.
        <br />
        <br />
        
        <br />
        </span>
        <div id="transport"></div>
        <br />
        <br />
        <div id="sequence"></div>
        <div id="mixer"></div>
        </div>
        <script src="drum_cutup.js"></script>
        <script>

var tracks = [
    {
        'type' : 'audio',
        'src' : '../audio/nino_rota/sax1.mp3'
    },
    {
        'type' : 'audio',
        'src' : '../audio/nino_rota/sax2.mp3'
    },
    {
        'type' : 'audio',
        'src' : '../audio/nino_rota/french_horn.mp3'
    },
    {
        'type' : 'audio',
        'src' : '../audio/nino_rota/oboe.mp3'
    },
    {
        'type' : 'audio',
        'src' : '../audio/nino_rota/clarinet.mp3'
    },
    {
        'type' : 'audio',
        'src' : '../audio/nino_rota/flute.mp3'
    },
    {
        'type' : 'audio',
        'src' : '../audio/nino_rota/snare.mp3'
    },
    {
        'type' : 'audio',
        'src' : '../audio/nino_rota/trombone.mp3'
    },
    {
        'type' : 'audio',
        'src' : '../audio/nino_rota/muted_trumpet.mp3'
    },
    {
        'type' : 'audio',
        'src' : '../audio/nino_rota/trumpet.mp3'
    },
    {
        'type' : 'audio',
        'src' : '../audio/nino_rota/tuba.mp3'
    },
    {
        'type' : 'audio',
        'src' : '../audio/nino_rota/bass_drum.mp3'
    },
    {
        'type' : 'audio',
        'src' : '../audio/nino_rota/cymbals.mp3'
    }
]


var x = d3.scale.linear().domain([0, 60]).range([0, 800]);

var sequence = prong.sequence()
    .x(x)
    .tracks(tracks)
    .trackHeight(20)
    .audioOut(prong.audioContext().destination);

var transport = prong.transport().sequence(sequence);

var mixer = prong.mixer().sequence(sequence);

d3.select('#sequence').call(sequence);
d3.select('#transport').call(transport);
d3.select('#mixer').call(mixer);

        </script>
    </body>
</html>