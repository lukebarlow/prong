<!DOCTYPE html>
<meta charset="utf-8">
<html>
    <head>
        <script src="../js/d3.v3.js"></script>
        <script src="../js/prong.js"></script>
        <style>
BODY {
    font-family:helvetica;
    background-color:#333;
    color:white;
    padding:40px;
}

/* waveform */

.area {
  fill:steelblue;
}

.line {
  stroke:steelblue;
  fill:none;
}

/* timeline */

.timeline path,
.timeline line {
  fill: none;
  stroke: white;
  shape-rendering: crispEdges;
}

.timeline text {
  fill:white;
  shape-rendering: crispEdges;
}

        </style>
    </head>
    <body>
        Timeline<br />
        <span>
        <br />
        The timeline is a zoomable scrollable time axis. It is modelled on the time axis elements found in the likes of Logic Pro and Cubase. Click and drag vertically to zoom in and out. Hold shift and scroll to move left and right. Note that the
        waveform is drawn slightly differently as you zoom in.
        <br />
        <br />
        </span>
        <svg>
        <g id="timeline" transform="translate(10,10)"></g>
        <g id="waveform" transform="translate(10,30)"></g>
        </svg>
        <script>
        // first load the sound
        prong.sound('../audio/four_devices_android.mp3', function(buffer){
            // then create the timeline
            var width = 800;
            var x = d3.scale.linear().domain([0, 20]).range([0, width]);
            var timeline = prong
                                .timeline()
                                .x(x)
                                .scrollZone(d3.select('svg'));
            d3.select('#timeline').call(timeline);
            // then a single waveform
            var waveform = prong.waveform()
                                .x(x)
                                .timeline(timeline); // bound to the timeline
            d3.select('#waveform')
                .datum({
                    buffer : buffer,
                    channel : buffer.getChannelData(0)
                })
                .call(waveform);
        })
        </script>
    </body>
</html>